<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Treadmill Physiology Explorer</title>
    <link rel="stylesheet" href="style.css" />
    <script src="global.js" type="module" defer></script>
</head>
<body>
    <header class="header">
        <h1 class="title">Pushing the Limits: How Elite Runners Outlast the Rest</h1>
        <p class="subtitle">
            An interactive visualization showing how heart rate, breathing, and oxygen use change during treadmill tests, <br>
            highlighting how faster runners stay steady longer and take more time to reach their limits. <br>
            Based on PhysioNet data from the University of Málaga, Spain.
        </p>
    </header>

    <main>

        <section class="intro" style="max-width: 900px; margin: 3rem auto; padding: 0 1rem; line-height: 1.6; font-size: 1rem;"></section>

        <p>
            <strong>Introduction:</strong> Our project focuses on how heart rate, breathing rate, and oxygen consumption change over time during treadmill running tests. 
            The data comes from breath-by-breath physiological measurements collected by the University of Málaga, Spain, and published on PhysioNet. 
            The main chart shows how many runners remain on the treadmill over time, while three bar charts below display average heart rate, 
            respiratory rate, and oxygen uptake at each moment, grouped by performance level. All charts update interactively as users explore the timeline, 
            helping them understand how the body responds to increasing physical stress.
        </p>
        </section>
        <div id = "main-window">
            <div id="chart"></div>
            <div id="sub-window">
                <div id="sub-chart-1"></div>
                <div id="sub-chart-2"></div>
                <div id="sub-chart-3"></div>
            </div>
        </div>

        <section class="writeup" style="max-width: 900px; margin: 3rem auto; padding: 0 1rem; line-height: 1.6; font-size: 1rem;">
            <p>
                From the start, we noticed a clear trend from the PhysioNet data: participants gradually dropped out as the trial progressed. This observation raised a natural question: What physiological factors might explain when and why runners reach their limit?
            </p>
            <p>
                    Thus, we designed the visualization to highlight group-level differences in endurance and efficiency. Time was transformed from breath-based timestamps 
                to seconds, then formatted as minutes and seconds to make the timeline intuitive. Runners were split into five performance groups based on their 
                maximum treadmill speed. Color was used consistently across charts to represent these groups, helping users track them easily. We chose bar charts 
                for the physiological metrics to support clear, direct comparison between groups at any moment. The y-axis ranges were fixed to ensure comparability 
                across time. Our decision to use a survival-style curve reflects our goal of making group dropout patterns and corresponding physiological changes 
                more visible and intuitive.
            </p>
            <p>
                    To prepare the data, we filtered out tests that were too short or irregular and aligned the timeline so that zero marked the start of the effort phase. 
                We summarized the breath-level measurements into second-by-second values and grouped them by performance level. For each time point, we computed the 
                number of runners still active and the average heart rate, breathing rate, and VO₂ uptake, then exported these into CSV files for visualization.
            </p>
            <p>
                    We estimate the project took about 20 to 30 person-hours. The most time-intensive stage was early exploration, processing over ten features, testing 
                different visual structures, and iterating through multiple design ideas. Each version helped us better understand the data and shaped the final product 
                into something both informative and easy to explore. Working as a team is important. Raymond worked on exploratory data analysis (EDA), data cleaning, and 
                preparation, Matthew worked on on EDA, design, and data interactive visualization, Huize worked on EDA, story-telling, and project staging.
            </p>
        </section>
    </main>
</body>
</html>
